<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Create an Object of Class 'mefa' — mefa • mefa</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Create an Object of Class 'mefa' — mefa" />
<meta property="og:description" content="An object of class 'mefa' is a compendium of a crosstabulated taxa-by-samples (count) data, and optionally (count) data for segments, and linked tables for samples and taxa. The 'mefa' term stand for an acronym of 'metafaunistics', indicating that data processing is a critical and often time consuming step before data analysis. The 'mefa' package aims to help in this respect." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-55877016-2"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-55877016-2');
</script>


  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">mefa</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">3.2-8</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/psolymos/mefa/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Create an Object of Class 'mefa'</h1>
    
    <div class="hidden name"><code>mefa.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>An object of class 'mefa' is a compendium of a crosstabulated taxa-by-samples (count) data, and optionally (count) data for segments, and linked tables for samples and taxa. The 'mefa' term stand for an acronym of '<strong>me</strong>ta<strong>fa</strong>unistics', indicating that data processing is a critical and often time consuming step before data analysis. The 'mefa' package aims to help in this respect.</p>
    </div>

    <pre class="usage"><span class='fu'>mefa</span><span class='op'>(</span><span class='va'>xtab</span>, samp <span class='op'>=</span> <span class='cn'>NULL</span>, taxa <span class='op'>=</span> <span class='cn'>NULL</span>, id.samp <span class='op'>=</span> <span class='cn'>NULL</span>, id.taxa <span class='op'>=</span> <span class='cn'>NULL</span>,
segment <span class='op'>=</span> <span class='cn'>TRUE</span>, nested <span class='op'>=</span> <span class='cn'>FALSE</span>, drop.zero <span class='op'>=</span> <span class='cn'>FALSE</span>, drop.index <span class='op'>=</span> <span class='cn'>FALSE</span>,
xtab.fixed <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span>
<span class='co'># S3 method for mefa</span>
<span class='fu'>is</span><span class='op'>(</span><span class='va'>x</span><span class='op'>)</span>
<span class='co'># S3 method for mefa</span>
<span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span><span class='op'>(</span><span class='va'>x</span>, nlist <span class='op'>=</span> <span class='fl'>10</span>, <span class='va'>...</span><span class='op'>)</span>
<span class='co'># S3 method for mefa</span>
<span class='fu'><a href='https://rdrr.io/r/base/summary.html'>summary</a></span><span class='op'>(</span><span class='va'>object</span>, nlist <span class='op'>=</span> <span class='fl'>10</span>, <span class='va'>...</span><span class='op'>)</span>
<span class='co'># S3 method for summary.mefa</span>
<span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>nlist</span>, <span class='va'>...</span><span class='op'>)</span>
<span class='co'># S3 method for mefa</span>
<span class='fu'><a href='https://rdrr.io/r/base/dim.html'>dim</a></span><span class='op'>(</span><span class='va'>x</span><span class='op'>)</span>
<span class='co'># S3 method for mefa</span>
<span class='fu'><a href='https://rdrr.io/r/base/dimnames.html'>dimnames</a></span><span class='op'>(</span><span class='va'>x</span><span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>xtab</th>
      <td><p>data. Can be an object of class 'stcs', or a matrix or data frame. Can be count (integer) or non-integer.</p></td>
    </tr>
    <tr>
      <th>samp</th>
      <td><p>a data frame containing rows for samples, or <code>NULL</code>. See argument <code>xtab.fixed</code> and details for sample matching options.</p></td>
    </tr>
    <tr>
      <th>taxa</th>
      <td><p>a data frame containing rows for taxa, or <code>NULL</code>. See argument <code>xtab.fixed</code> and details for taxa matching options.</p></td>
    </tr>
    <tr>
      <th>id.samp</th>
      <td><p><code>NULL</code> if sample names for matching are the rownames of <code>samp</code>, otherwise, the index refers to the column of <code>samp</code> where the names are located.</p></td>
    </tr>
    <tr>
      <th>id.taxa</th>
      <td><p><code>NULL</code> if taxa names for matching are the rownames of <code>taxa</code>, otherwise, the index refers to the column of <code>taxa</code> where the names are located.</p></td>
    </tr>
    <tr>
      <th>segment</th>
      <td><p>logical, whether information in the segments column of the 'stcs' object should be used (<code>TRUE</code>, default). It has no effect when <code>xtab</code> is matrix or data frame.</p></td>
    </tr>
    <tr>
      <th>nested</th>
      <td><p>logical, whether segments should be nested within each other from the first to the last (<code>TRUE</code>) or not (<code>FALSE</code>, default).</p></td>
    </tr>
    <tr>
      <th>drop.zero</th>
      <td><p>logical, if <code>TRUE</code> empty samples are removed from the result (can be useful before multivariate analyses). Otherwise, empty rows are left intact (<code>FALSE</code>, default).</p></td>
    </tr>
    <tr>
      <th>drop.index</th>
      <td><p>logical, whether columns of the samples and taxa tables containing the names used for matching should be removed (<code>TRUE</code>) to reduce redundancy or not (<code>FALSE</code>, default). This argument has effect only if <code>id.samp</code> and <code>id.taxa</code> are not <code>NULL</code>.</p></td>
    </tr>
    <tr>
      <th>xtab.fixed</th>
      <td><p>logical, if <code>TRUE</code> (default) the <code>samp</code> and <code>taxa</code> tables are subsetted and ordered according to the names of <code>xtab</code>. If <code>FALSE</code>, <code>xtab</code> is also subsetted according to the intersect of the names. Row and column ordering is determined by <code>xtab</code> in either cases.</p></td>
    </tr>
    <tr>
      <th>x, object</th>
      <td><p>an object of class 'mefa'.</p></td>
    </tr>
    <tr>
      <th>nlist</th>
      <td><p>number of elements in the list of segment names to print. List of segment names is truncated at 10 by default.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>other arguments passed to functions.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>Main goals of the <code>mefa</code> function are to (1) convert a long formatted object of 'stcs' into a crosstabulated and optionally segmented 'mefa' object and (2) link this crosstabulation with tables of samples and taxa. The segments can be nested within each other. This feature can be useful, if segments represent e.g. subsequent sampling periods (years) and the the aim is to detect effects of data accumulation over time.</p>
<p>A mefa object can be viewed as a project oriented compendium of the data. It contains 3 dimensional (samples, taxa, segments) representation of the count data and data tables for samples and taxa. Segments contain information on some particular internal division of the data (sub populations, method specific partitions, repeated measures), but it has technical significance. Thus data tables for segments are not supported.</p>
<p>Input values may contain non-integer values as well.</p>
<p>If the input <code>xtab</code> is a matrix, dimnames are necessary if either <code>samp</code> or <code>taxa</code> tables are provided. In other cases, dimnames are not necessary. In this way, simple statistics can be returned for the matrix.</p>
<p>The print method returns basic information, instead of a long structural representation.</p>
<p>The summary contains statistics calculated from the 'mefa' object (species richness, number of individuals, occupancy, abundance, total sum, matrix fill, etc., see 'Value' section). The list can be recalled by e.g. <code><a href='https://rdrr.io/r/base/class.html'>unclass(summary(x))</a></code>, elements of the list e.g. <code>summary(x)$s.rich</code>.</p>
<p>Methods for extracting, subsetting, plotting and reporting 'mefa' objects are discussed elsewhere (see links in 'See also' section). On how the 'mefa' objects can be used in further analyses, see 'Examples' and the vignette (<code>vignette("mefa")</code>).</p>
<p>When the <code>as.mefa</code> function is used with a 'mefa' object as argument, samples and taxa tables are used when <code>samp</code> and <code>taxa</code> arguments are missing. If the aim is to redefine these tables, those also can be given.</p>
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>The <code>mefa</code> function returns an object of class 'mefa'. It is a list with 5 elements:</p>
<p></p>
<dt>call</dt><dd><p>the function call.</p></dd>
  <dt>xtab</dt><dd><p>crosstabulated count data, rows are samples, columns are taxa.</p></dd>
  <dt>segm</dt><dd><p>list of matrices if segments are used, otherwise <code>NULL</code>.</p></dd>
  <dt>samp</dt><dd><p>a data frame for sample related data (rows correspond to samples) if provided, otherwise <code>NULL</code>.</p></dd>
  <dt>taxa</dt><dd><p>a data frame for taxa related data (rows correspond to taxa) if provided, otherwise <code>NULL</code>.</p></dd>


The summary.mefa function returns a list invisibly, with elements:
  s.rich: vector with species richness values for the samples,
  s.abu: vector with number of individuals values for the samples,
  t.occ: number of sites occupied by each species,
  t.abu: abundances of each species,
  ntot: total number of individuals,
  mfill: matrix fill,
  nsamp: number of samples,
  ntaxa: number of taxa,
  nsegm: number of segments,
  segment: vector of segment names,
  call: the function call from the 'mefa' object,
  nested, drop.zero, xtab.fixed: attributes of the 'mefa' object.

The method dim returns a vector of length 3 with values for number of samples, number of taxa and number of segments in the 'mefa' object. The third value is 1 in cases, when s$segm is NULL (because it is 1 undefined segment essentially identical to the matrix x$xtab, thus no need for a replicate).

The dimnames method returns a list of three character vectors for names of samples, taxa and segments. These can be NULL as well.

    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>S\'olymos P. (2008) mefa: an R package for handling and reporting count data. <em>Community Ecology</em> <b>9</b>, 125--127.</p>
<p>S\'olymos P. (2009) Processing ecological data in R with the mefa package. <em>Journal of Statistical Software</em> <b>29(8)</b>, 1--28. doi: <a href='https://doi.org/10.18637/jss.v029.i08'>10.18637/jss.v029.i08</a></p>
<p><a href='http://mefa.r-forge.r-project.org/'>http://mefa.r-forge.r-project.org/</a></p>
    <h2 class="hasAnchor" id="author"><a class="anchor" href="#author"></a>Author</h2>

    <p>P\'eter S\'olymos, <a href='mailto:solymos@ualberta.ca'>solymos@ualberta.ca</a></p>
    <h2 class="hasAnchor" id="note"><a class="anchor" href="#note"></a>Note</h2>

    <p>The <code>mefa</code> function alone can be used instead of the combination of object classes <code>xcount</code> and <code>xorder</code> used in older (&lt; 2.0) versions of the <strong>mefa</strong> package. Further it is also extended by previously undocumented features.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p>Further methods are discussed on separate help pages: see <code><a href='aggregate.mefa.html'>[.mefa</a></code> and <code><a href='aggregate.mefa.html'>aggregate.mefa</a></code> for extracting and aggregating the data, <code><a href='melt.html'>melt.mefa</a></code> for redefining segments or melting data into long format, <code><a href='report.mefa.html'>report.mefa</a></code> for generating report into file, and <code><a href='plot.mefa.html'>plot.mefa</a></code> <code><a href='plot.mefa.html'>boxplot.mefa</a></code> and <code><a href='plot.mefa.html'>image.mefa</a></code> for graphical display.</p>
<p>See <code><a href='as.mefa.html'>as.mefa</a></code> for coercion methods.</p>
<p>The simple 2 dimensional wide arrangement of long formatted data can be done by the function <code><a href='https://rdrr.io/pkg/reshape/man/cast-9g.html'>cast</a></code> in the <strong>reshape</strong> package of Hadley Wickham, by the <code><a href='https://rdrr.io/pkg/simba/man/mama.html'>mama</a></code> function in the <strong>simba</strong> package by  Gerald Jurasinski, and by the function <code><a href='https://rdrr.io/pkg/labdsv/man/matrify.html'>matrify</a></code> in the <strong>labdsv</strong> package of David W. Roberts. These are, however, not useful either for 3 dimensional (segmented) crosstabulation (see <code><a href='https://rdrr.io/r/base/table.html'>table</a></code> and <code><a href='https://rdrr.io/r/stats/xtabs.html'>xtabs</a></code> functions), or linking data tables for sample and taxa with the count data.</p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='fu'><a href='https://rdrr.io/r/utils/data.html'>data</a></span><span class='op'>(</span><span class='va'>dol.count</span>, <span class='va'>dol.samp</span>, <span class='va'>dol.taxa</span><span class='op'>)</span>
<span class='co'>## Input is stcs</span>
<span class='va'>x1</span> <span class='op'>&lt;-</span> <span class='fu'>mefa</span><span class='op'>(</span><span class='fu'><a href='stcs.html'>stcs</a></span><span class='op'>(</span><span class='va'>dol.count</span><span class='op'>)</span><span class='op'>)</span>
<span class='va'>x1</span>
</div><div class='output co'>#&gt; 
#&gt; An object of class 'mefa' containing
#&gt; 
#&gt;  $ xtab: 731 individuals of 28 taxa in 24 samples,
#&gt;  $ segm: 2 (non-nested) segments:
#&gt;          fresh, broken,
#&gt;  $ samp: table for samples not provided,
#&gt;  $ taxa: table for taxa not provided.
#&gt; </div><div class='input'><span class='co'>## Input is matrix</span>
<span class='va'>x2</span> <span class='op'>&lt;-</span> <span class='fu'>mefa</span><span class='op'>(</span><span class='va'>x1</span><span class='op'>$</span><span class='va'>xtab</span><span class='op'>)</span>
<span class='va'>x2</span>
</div><div class='output co'>#&gt; 
#&gt; An object of class 'mefa' containing
#&gt; 
#&gt;  $ xtab: 731 individuals of 28 taxa in 24 samples,
#&gt;  $ segm: 1 (all inclusive) segment,
#&gt;  $ samp: table for samples not provided,
#&gt;  $ taxa: table for taxa not provided.
#&gt; </div><div class='input'><span class='co'>## Attach data frame for samples</span>
<span class='va'>x3</span> <span class='op'>&lt;-</span> <span class='fu'>mefa</span><span class='op'>(</span><span class='fu'><a href='stcs.html'>stcs</a></span><span class='op'>(</span><span class='va'>dol.count</span><span class='op'>)</span>, <span class='va'>dol.samp</span><span class='op'>)</span>
<span class='va'>x3</span>
</div><div class='output co'>#&gt; 
#&gt; An object of class 'mefa' containing
#&gt; 
#&gt;  $ xtab: 731 individuals of 28 taxa in 24 samples,
#&gt;  $ segm: 2 (non-nested) segments:
#&gt;          fresh, broken,
#&gt;  $ samp: table for samples provided (2 variables),
#&gt;  $ taxa: table for taxa not provided.
#&gt; </div><div class='input'><span class='co'>## Attach data frame for samples and taxa</span>
<span class='va'>x4</span> <span class='op'>&lt;-</span> <span class='fu'>mefa</span><span class='op'>(</span><span class='fu'><a href='stcs.html'>stcs</a></span><span class='op'>(</span><span class='va'>dol.count</span><span class='op'>)</span>, <span class='va'>dol.samp</span>, <span class='va'>dol.taxa</span><span class='op'>)</span>
<span class='va'>x4</span>
</div><div class='output co'>#&gt; 
#&gt; An object of class 'mefa' containing
#&gt; 
#&gt;  $ xtab: 731 individuals of 28 taxa in 24 samples,
#&gt;  $ segm: 2 (non-nested) segments:
#&gt;          fresh, broken,
#&gt;  $ samp: table for samples provided (2 variables),
#&gt;  $ taxa: table for taxa provided (4 variables).
#&gt; </div><div class='input'><span class='co'>## Methods</span>
<span class='co'>## (chapter 'See also' provides</span>
<span class='co'>## links for further methods)</span>
<span class='fu'><a href='https://rdrr.io/r/base/summary.html'>summary</a></span><span class='op'>(</span><span class='va'>x4</span><span class='op'>)</span>
</div><div class='output co'>#&gt; 
#&gt; Call:
#&gt; mefa(xtab = stcs(dol.count), samp = dol.samp, taxa = dol.taxa)
#&gt; 
#&gt;                    Summary
#&gt; Total sum              731
#&gt; Matrix fill (%)         26
#&gt; Number of samples       24
#&gt; Number of taxa          28
#&gt; Number of segments       2
#&gt; 
#&gt; Segments (non-nested):
#&gt; fresh, broken
#&gt; 
#&gt;            s.rich    s.abu     t.occ     t.abu
#&gt; Min.     0.000000  0.00000  1.000000   1.00000
#&gt; 1st Qu.  5.000000  9.75000  2.000000   4.00000
#&gt; Median   7.000000 20.50000  4.500000  10.50000
#&gt; Mean     7.333333 30.45833  6.285714  26.10714
#&gt; 3rd Qu. 10.000000 44.75000 10.000000  27.75000
#&gt; Max.    16.000000 97.00000 23.000000 245.00000
#&gt; </div><div class='input'><span class='co'>## Descriptives inside the summary</span>
<span class='fu'><a href='https://rdrr.io/r/base/class.html'>unclass</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/summary.html'>summary</a></span><span class='op'>(</span><span class='va'>x4</span><span class='op'>)</span><span class='op'>)</span>
</div><div class='output co'>#&gt; $s.rich
#&gt; DQ1 DQ2 DQ3 DT1 DT2 DT3 LQ1 LQ2 LQ3 LT1 LT2 LT3 RQ1 RQ2 RQ3 RT1 RT2 RT3 WQ1 WQ2 
#&gt;   5   7   4   7  10   5   5   5   7   0   2   5  10  16  13  11  15  10   9  10 
#&gt; WQ3 WT1 WT2 WT3 
#&gt;   8   5   4   3 
#&gt; 
#&gt; $s.abu
#&gt; DQ1 DQ2 DQ3 DT1 DT2 DT3 LQ1 LQ2 LQ3 LT1 LT2 LT3 RQ1 RQ2 RQ3 RT1 RT2 RT3 WQ1 WQ2 
#&gt;  18  39   9  11  13  13  34  17  82   0   2  10  23  97  63  44  47  30  48  90 
#&gt; WQ3 WT1 WT2 WT3 
#&gt;  24   5   6   6 
#&gt; 
#&gt; $t.occ
#&gt; aacu amin apur bbip bcan ccer clam cort ctri dbre dper druf eful estr ffau hobv 
#&gt;    3   23    7   12    3    4    3    5    5    2   15    2    1    8   10   10 
#&gt; iiso mbor mobs odol ogla pinc ppyg pvic tuni vcos vicr vidi 
#&gt;    4    1    3    1    2    7   10   13    8    1    1   12 
#&gt; 
#&gt; $t.abu
#&gt; aacu amin apur bbip bcan ccer clam cort ctri dbre dper druf eful estr ffau hobv 
#&gt;    4   86    8   25    3    5    4    7   40    4   56    3    2   14   36   37 
#&gt; iiso mbor mobs odol ogla pinc ppyg pvic tuni vcos vicr vidi 
#&gt;   17    5    5   13    4   16  245   18   17    2    1   54 
#&gt; 
#&gt; $ntot
#&gt; [1] 731
#&gt; 
#&gt; $mfill
#&gt; [1] 0.2619048
#&gt; 
#&gt; $nsamp
#&gt; [1] 24
#&gt; 
#&gt; $ntaxa
#&gt; [1] 28
#&gt; 
#&gt; $nsegm
#&gt; [1] 2
#&gt; 
#&gt; $segment
#&gt; [1] "fresh"  "broken"
#&gt; 
#&gt; $call
#&gt; mefa(xtab = stcs(dol.count), samp = dol.samp, taxa = dol.taxa)
#&gt; 
#&gt; $nested
#&gt; [1] FALSE
#&gt; 
#&gt; $drop.zero
#&gt; [1] FALSE
#&gt; 
#&gt; $xtab.fixed
#&gt; [1] TRUE
#&gt; 
#&gt; attr(,"nlist")
#&gt; [1] 10</div><div class='input'><span class='co'>## Testing mefa objects</span>
<span class='fu'>is</span><span class='op'>(</span><span class='va'>x4</span>, <span class='st'>"mefa"</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] TRUE</div><div class='input'><span class='co'>## Removing empty samples</span>
<span class='fu'><a href='as.mefa.html'>as.mefa</a></span><span class='op'>(</span><span class='va'>x4</span>, drop.zero <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span>
</div><div class='output co'>#&gt; 
#&gt; An object of class 'mefa' containing
#&gt; 
#&gt;  $ xtab: 731 individuals of 28 taxa in 23 samples,
#&gt;  $ segm: 2 (non-nested) segments:
#&gt;          broken, fresh,
#&gt;  $ samp: table for samples provided (2 variables),
#&gt;  $ taxa: table for taxa provided (4 variables).
#&gt; </div><div class='input'><span class='co'>## Dimensions</span>
<span class='fu'><a href='https://rdrr.io/r/base/dim.html'>dim</a></span><span class='op'>(</span><span class='va'>x4</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] 24 28  2</div><div class='input'><span class='co'>## Dimnames</span>
<span class='fu'><a href='https://rdrr.io/r/base/dimnames.html'>dimnames</a></span><span class='op'>(</span><span class='va'>x4</span><span class='op'>)</span>
</div><div class='output co'>#&gt; $samp
#&gt;  [1] "DQ1" "DQ2" "DQ3" "DT1" "DT2" "DT3" "LQ1" "LQ2" "LQ3" "LT1" "LT2" "LT3"
#&gt; [13] "RQ1" "RQ2" "RQ3" "RT1" "RT2" "RT3" "WQ1" "WQ2" "WQ3" "WT1" "WT2" "WT3"
#&gt; 
#&gt; $taxa
#&gt;  [1] "aacu" "amin" "apur" "bbip" "bcan" "ccer" "clam" "cort" "ctri" "dbre"
#&gt; [11] "dper" "druf" "eful" "estr" "ffau" "hobv" "iiso" "mbor" "mobs" "odol"
#&gt; [21] "ogla" "pinc" "ppyg" "pvic" "tuni" "vcos" "vicr" "vidi"
#&gt; 
#&gt; $segm
#&gt; [1] "fresh"  "broken"
#&gt; </div><div class='input'><span class='co'>## Simple examples how to use mefa objects in analyis</span>
<span class='co'>## GLM on sample abundances</span>
<span class='va'>mod</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/glm.html'>glm</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/summary.html'>summary</a></span><span class='op'>(</span><span class='va'>x4</span><span class='op'>)</span><span class='op'>$</span><span class='va'>s.abu</span> <span class='op'>~</span> <span class='va'>.</span><span class='op'>^</span><span class='fl'>2</span>,
    data <span class='op'>=</span> <span class='va'>x4</span><span class='op'>$</span><span class='va'>samp</span>, family <span class='op'>=</span> <span class='va'>quasipoisson</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/base/summary.html'>summary</a></span><span class='op'>(</span><span class='va'>mod</span><span class='op'>)</span>
</div><div class='output co'>#&gt; 
#&gt; Call:
#&gt; glm(formula = summary(x4)$s.abu ~ .^2, family = quasipoisson, 
#&gt;     data = x4$samp)
#&gt; 
#&gt; Deviance Residuals: 
#&gt;     Min       1Q   Median       3Q      Max  
#&gt; -5.5797  -1.6405  -0.0736   0.6823   5.0521  
#&gt; 
#&gt; Coefficients:
#&gt;                                 Estimate Std. Error t value Pr(&gt;|t|)    
#&gt; (Intercept)                       2.5123     0.5476   4.588 0.000303 ***
#&gt; microhablitter                   -1.1260     1.1066  -1.018 0.324035    
#&gt; microhablive.wood                -0.7777     0.9760  -0.797 0.437229    
#&gt; microhabrock                      1.1849     0.6258   1.893 0.076532 .  
#&gt; methodquadrat                     0.5787     0.6841   0.846 0.410055    
#&gt; microhablitter:methodquadrat      1.8267     1.2150   1.504 0.152187    
#&gt; microhablive.wood:methodquadrat   1.6756     1.0905   1.537 0.143944    
#&gt; microhabrock:methodquadrat       -0.1650     0.7876  -0.210 0.836672    
#&gt; ---
#&gt; Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
#&gt; 
#&gt; (Dispersion parameter for quasipoisson family taken to be 11.09643)
#&gt; 
#&gt;     Null deviance: 574.42  on 23  degrees of freedom
#&gt; Residual deviance: 182.64  on 16  degrees of freedom
#&gt; AIC: NA
#&gt; 
#&gt; Number of Fisher Scoring iterations: 5
#&gt; </div><div class='input'><span class='co'>## See the demo and vignette for more examples</span>
<span class='co'># demo(mefa)</span>
<span class='co'># vignette("mefa")</span>
<span class='co'>## Cluster analysis of community matrix</span>
<span class='va'>x5</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/aggregate.html'>aggregate</a></span><span class='op'>(</span><span class='va'>x4</span>, <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"method"</span>, <span class='st'>"microhab"</span><span class='op'>)</span><span class='op'>)</span>
<span class='va'>h</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/hclust.html'>hclust</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/stats/dist.html'>dist</a></span><span class='op'>(</span><span class='va'>x5</span><span class='op'>$</span><span class='va'>xtab</span><span class='op'>)</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/graphics/plot.default.html'>plot</a></span><span class='op'>(</span><span class='va'>h</span><span class='op'>)</span>
</div><div class='img'><img src='mefa-1.png' alt='' width='700' height='433' /></div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Peter Solymos.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


